{% extends "base.html.twig" %}
{% block body %}
    <link rel="stylesheet" href="assets/css/test.scss">
    <div id="carrousel">
        <div class="container">
            <div class="title col-md-12 text-center"> Waterwheel Owl Carousel 2</div>
            <div class="col-md-12">
                <div class="owl-carousel owl-theme">
                    <img src="https://picsum.photos/300/300/?random&1">
                    <img src="https://picsum.photos/300/300/?random&2">
                    <img src="https://picsum.photos/300/300/?random&3">
                    <img src="https://picsum.photos/300/300/?random&4">
                    <img src="https://picsum.photos/300/300/?random&5">
                    <img src="https://picsum.photos/300/300/?random&6">
                    <img src="https://picsum.photos/300/300/?rando&7">
                    <img src="https://picsum.photos/300/300/?random&8">
                </div>
            </div>
            <div class="text-center">
                <button id="play-carousel" type="button" class="btn btn-dark">Play</button>
                <div class="status"></div>
            </div>
        </div>
    </div>
    <script>
        $('.owl-carousel').owlCarousel({
            center: true,
            loop: true,
            nav: true,
            items: 5,
            navText: ['<i class="fas fa-chevron-left"></i>','<i class="fas fa-chevron-right"></i>'],
            responsive:{
                0:{
                    items: 2,
                },
                768:{
                    items: 3,
                },
                990:{
                    items: 5,
                }
            },
            onInitialized: coverFlowEfx,
            onTranslate: coverFlowEfx,
        });

        function coverFlowEfx(e){
            if ($('.owl-dots')) {
                $('.owl-dots').remove();
            }
            idx = e.item.index;
            $('.owl-item.big').removeClass('big');
            $('.owl-item.medium').removeClass('medium');
            $('.owl-item.mdright').removeClass('mdright');
            $('.owl-item.mdleft').removeClass('mdleft');
            $('.owl-item.smallRight').removeClass('smallRight');
            $('.owl-item.smallLeft').removeClass('smallLeft');
            $('.owl-item').eq(idx -1).addClass('medium mdleft');
            $('.owl-item').eq(idx).addClass('big');
            $('.owl-item').eq(idx + 1).addClass('medium mdright');
            $('.owl-item').eq(idx + 2).addClass('smallRight');
            $('.owl-item').eq(idx - 2).addClass('smallLeft');
        }

        var click = false;

        $('#play-carousel').click(function(evt) {
            click = !click;
            if(click){
                $('.status').html('Autoplay: ON');
                $('.owl-carousel').trigger('play.owl.autoplay', [1000, 1000]);
                $(this).html("Stop");
            } else {
                $('.owl-carousel').trigger('stop.owl.autoplay');
                $(this).html("Play");
                $('.status').html('Autoplay: OFF');
            }

        });
    </script>
{%  endblock %}